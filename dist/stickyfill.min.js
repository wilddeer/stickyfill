/*!
 * Stickyfill -- `position: sticky` polyfill
 * v. 1.1.2 | https://github.com/wilddeer/stickyfill
 * Copyright Oleg Korsunsky | http://wd.dizaina.net/
 *
 * MIT License
 */
"use strict";module.exports=function(a,b){function c(a){var b=a.node.style.display;a.node.style.display="none",a.node.offsetHeight,a.node.style.display=b}function d(){D=K=E=F=G=H=R}function e(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}function f(a){return parseFloat(a)||0}function g(a){return{top:a.pageYOffset||a.scrollTop||0,left:a.pageXOffset||a.scrollLeft||0}}function h(){O=O.map(function(a){return a.scroll=g(a.node),a})}function i(a){return O.filter(function(b){return b.node===a})[0]}function j(a){var b=a.currentTarget,d=i(b);return g(b).left!=d.scroll.left?(h(),void E()):(g(b).top!=d.scroll.top&&(h(),l()),void N.forEach(c))}function k(a){var b=a.currentTarget,c=i(b);setTimeout(function(){g(b).top!=c.scroll.top&&(c.scroll.top=g(b).top,l())},0)}function l(){for(var a=N.length-1;a>=0;a--)n(N[a])}function m(a){return a===window?{top:0,left:0,bottom:0,width:window.innerWidth||window.clientWidth,height:window.innerHeight||window.clientHeight}:a.getBoundingClientRect()}function n(a){if(a.inited){var b=w(a.node),c=b.scroll.top+m(b.node).top,d=c<=a.limit.start?0:c>=a.limit.end?2:1;a.mode!=d&&t(a,d)}}function o(){for(var a=N.length-1;a>=0;a--)if(N[a].inited){var b=Math.abs(y(N[a].clone)-N[a].docOffsetTop),c=Math.abs(N[a].parent.node.offsetHeight-N[a].parent.height);if(b>=2||c>=2)return!1}return!0}function p(a){isNaN(parseFloat(a.computed.top))||a.isCell||(a.inited=!0,a.clone||u(a),"absolute"!=a.parent.computed.position&&"relative"!=a.parent.computed.position&&(a.parent.node.style.position="relative"),n(a),a.parent.height=a.parent.node.offsetHeight,a.docOffsetTop=y(a.clone))}function q(a){var b=!0;a.clone&&v(a),e(a.node.style,a.css);for(var c=N.length-1;c>=0;c--)if(N[c].node!==a.node&&N[c].parent.node===a.parent.node){b=!1;break}b&&(a.parent.node.style.position=a.parent.css.position),a.mode=-1}function r(){for(var a=N.length-1;a>=0;a--)p(N[a])}function s(){for(var a=N.length-1;a>=0;a--)q(N[a])}function t(a,b){var c=a.node.style,d=m(w(a.node).node);switch(b){case 0:c.position="absolute",c.left=a.offset.left+"px",c.right=a.offset.right+"px",c.top=a.offset.top+"px",c.bottom="auto",c.width="auto",c.marginLeft=0,c.marginRight=0,c.marginTop=0;break;case 1:c.position="fixed",c.left=a.box.left+"px",c.right=a.box.right+"px",c.top=a.numeric.top+d.top+"px",c.bottom="auto",c.width=a.computed.width,c.marginLeft=0,c.marginRight=0,c.marginTop=0;break;case 2:c.position="absolute",c.left=a.offset.left+"px",c.right=a.offset.right+"px",c.top="auto",c.bottom=0,c.width="auto",c.marginLeft=0,c.marginRight=0}a.mode=b}function u(a){a.clone=document.createElement("div");var b=a.node.nextSibling||a.node,c=a.clone.style;c.height=a.height+"px",c.width=a.width+"px",c.marginTop=a.computed.marginTop,c.marginBottom=a.computed.marginBottom,c.marginLeft=a.computed.marginLeft,c.marginRight=a.computed.marginRight,c.padding=c.border=c.borderSpacing=0,c.fontSize="1em",c.position="static",c.cssFloat=a.computed.cssFloat,a.node.parentNode.insertBefore(a.clone,b)}function v(a){a.clone.parentNode&&a.clone.parentNode.removeChild(a.clone),a.clone=void 0}function w(a){a==document&&(a=window);for(var b,c=0;c<O.length;c++)if(b=O[c],b.node===a)return b;return w(a.parentNode?a.parentNode:document.getElementsByTagName("body")[0])}function x(a){var b=getComputedStyle(a),c=a.parentNode,d=getComputedStyle(c),e=a.style.position,h=w(a),i=g(h.node);a.style.position="relative";var j={top:b.top,width:b.width,marginTop:b.marginTop,marginBottom:b.marginBottom,marginLeft:b.marginLeft,marginRight:b.marginRight,cssFloat:b.cssFloat},k={top:f(b.top),marginBottom:f(b.marginBottom),paddingLeft:f(b.paddingLeft),paddingRight:f(b.paddingRight),borderLeftWidth:f(b.borderLeftWidth),borderRightWidth:f(b.borderRightWidth)};a.style.position=e;var l={position:a.style.position,top:a.style.top,bottom:a.style.bottom,left:a.style.left,right:a.style.right,width:a.style.width,marginTop:a.style.marginTop,marginLeft:a.style.marginLeft,marginRight:a.style.marginRight},m=z(a),n=z(c),o={node:c,css:{position:c.style.position},computed:{position:d.position},numeric:{borderLeftWidth:f(d.borderLeftWidth),borderRightWidth:f(d.borderRightWidth),borderTopWidth:f(d.borderTopWidth),borderBottomWidth:f(d.borderBottomWidth)}},p={node:a,box:{left:m.win.left,right:Q.clientWidth-m.win.right},offset:{top:m.win.top-n.win.top-o.numeric.borderTopWidth,left:m.win.left-n.win.left-o.numeric.borderLeftWidth,right:-m.win.right+n.win.right-o.numeric.borderRightWidth},css:l,isCell:"table-cell"==b.display,computed:j,numeric:k,width:m.win.right-m.win.left,height:m.win.bottom-m.win.top,mode:-1,inited:!1,parent:o,limit:{start:m.doc.top-k.top+i.top,end:n.doc.top+c.offsetHeight-o.numeric.borderBottomWidth-a.offsetHeight-k.top-k.marginBottom+i.top}};return p}function y(a){for(var b=0,c={top:0};a;)b+=a.offsetTop,a=a.offsetParent;return a&&(c=m(w(a).node)),b+c.top}function z(a){var b=m(a);return{doc:{top:b.top+g(a).top,left:b.left+g(a).left},win:b}}function A(){M=setInterval(function(){o()||E()},500)}function B(){clearInterval(M)}function C(){P&&(document[S]?B():A())}function D(){P||(h(),r(),O.map(function(a){a.node.addEventListener("scroll",j),a.node.addEventListener("wheel",k),a.node.addEventListener("resize",E),a.node.addEventListener("orientationchange",E)}),a.addEventListener(T,C),A(),P=!0)}function E(){if(P){s();for(var a=N.length-1;a>=0;a--)N[a]=x(N[a].node);r()}}function F(){O.map(function(a){a.node.removeEventListener("scroll",j),a.node.removeEventListener("wheel",k),a.node.removeEventListener("resize",E),a.node.removeEventListener("orientationchange",E)}),a.removeEventListener(T,C),B(),P=!1}function G(){F(),s()}function H(){for(G();N.length;)N.pop()}function I(a){var b=getComputedStyle(a),c=["auto","scroll"];return["overflow","overflow-y","overflow-x"].map(function(a){return c.indexOf(b[a])>-1}).indexOf(!0)>-1}function J(a){for(var b=a.parentNode;b!=document;){if(I(b)){for(var c=0;c<O.length;c++)if(O[c].node===b)return;O.push({node:b,scroll:g(b)})}b=b.parentNode?b.parentNode:document.getElementsByTagName("body")[0]}}function K(a){for(var b=N.length-1;b>=0;b--)if(N[b].node===a)return;var c=x(a);N.push(c),J(a),P?p(c):D()}function L(a){for(var b=N.length-1;b>=0;b--)N[b].node===a&&(q(N[b]),N.splice(b,1))}a||(a=document),b||(b=window);var M,N=[],O=[{node:b}],P=!1,Q=a.documentElement,R=function(){},S="hidden",T="visibilitychange";void 0!==a.webkitHidden&&(S="webkitHidden",T="webkitvisibilitychange"),b.getComputedStyle||d();for(var U=["","-webkit-","-moz-","-ms-"],V=document.createElement("div"),W=U.length-1;W>=0;W--){try{V.style.position=U[W]+"sticky"}catch(X){}""!=V.style.position&&d()}h();var Stickyfill={stickies:N,add:K,remove:L,init:D,rebuild:E,pause:F,stop:G,kill:H};return b.jQuery&&!function($){$.fn.Stickyfill=function(a){return this.each(function(){Stickyfill.add(this)}),this}}(b.jQuery),Stickyfill};